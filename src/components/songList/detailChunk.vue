<template>
    <div class="chunkBox" id="songInfo" ref="chunkBox" @click="clickList">

        <svg class="fileSvg" id="songInfo"  t="1703751001659"  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15890" width="200" height="200"><path d="M477.866667 989.866667c-10.24 0-17.066667-6.826667-17.066667-17.066667v-238.933333c0-6.826667 6.826667-13.653333 13.653333-17.066667l170.666667-34.133333c3.413333 0 10.24 0 13.653333 3.413333 3.413333 3.413333 6.826667 6.826667 6.826667 13.653333v238.933334c0 10.24-6.826667 17.066667-17.066667 17.066666s-17.066667-6.826667-17.066666-17.066666v-218.453334l-136.533334 27.306667v225.28c0 10.24-6.826667 17.066667-17.066666 17.066667z" fill="" p-id="15891"></path><path d="M904.533333 819.2H750.933333c-10.24 0-17.066667-6.826667-17.066666-17.066667s6.826667-17.066667 17.066666-17.066666h153.6c37.546667 0 68.266667-30.72 68.266667-68.266667V341.333333c0-37.546667-30.72-68.266667-68.266667-68.266666H406.186667C361.813333 273.066667 320.853333 245.76 307.2 201.386667l-3.413333-20.48C293.546667 157.013333 269.653333 136.533333 238.933333 136.533333H119.466667c-37.546667 0-68.266667 30.72-68.266667 68.266667v512c0 37.546667 30.72 68.266667 68.266667 68.266667H375.466667c10.24 0 17.066667 6.826667 17.066666 17.066666s-6.826667 17.066667-17.066666 17.066667H119.466667c-58.026667 0-102.4-44.373333-102.4-102.4V204.8c0-58.026667 44.373333-102.4 102.4-102.4H238.933333c44.373333 0 81.92 27.306667 95.573334 71.68l6.826666 20.48c6.826667 23.893333 34.133333 44.373333 64.853334 44.373333h498.346666c58.026667 0 102.4 44.373333 102.4 102.4v375.466667c0 58.026667-44.373333 102.4-102.4 102.4z" fill="" p-id="15892"></path><path d="M955.733333 290.133333c-10.24 0-17.066667-6.826667-17.066666-17.066666V102.4c0-37.546667-30.72-68.266667-68.266667-68.266667h-716.8c-37.546667 0-68.266667 30.72-68.266667 68.266667v17.066667c0 10.24-6.826667 17.066667-17.066666 17.066666s-17.066667-6.826667-17.066667-17.066666V102.4c0-58.026667 44.373333-102.4 102.4-102.4h716.8c58.026667 0 102.4 44.373333 102.4 102.4v170.666667c0 10.24-6.826667 17.066667-17.066667 17.066666zM597.333333 989.866667c-37.546667 0-68.266667-23.893333-68.266666-51.2s30.72-51.2 68.266666-51.2 68.266667 23.893333 68.266667 51.2-30.72 51.2-68.266667 51.2z m0-68.266667c-20.48 0-34.133333 10.24-34.133333 17.066667s13.653333 17.066667 34.133333 17.066666 34.133333-10.24 34.133334-17.066666-13.653333-17.066667-34.133334-17.066667z" fill="" p-id="15893"></path><path d="M426.666667 1024c-37.546667 0-68.266667-23.893333-68.266667-51.2s30.72-51.2 68.266667-51.2 68.266667 23.893333 68.266666 51.2-30.72 51.2-68.266666 51.2z m0-68.266667c-20.48 0-34.133333 10.24-34.133334 17.066667s13.653333 17.066667 34.133334 17.066667 34.133333-10.24 34.133333-17.066667-13.653333-17.066667-34.133333-17.066667z" fill="" p-id="15894"></path></svg>
        <div class="nameText" id="songInfo" > 
            <p id="songInfo">{{info.name}}</p>
        </div>

        
        <!--未收藏图标-->
        <svg id="songInfo" @click="collected" v-if="!myInfo.collect" class="collect" t="1703751939645"  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17018" width="200" height="200"><path class="a" id="songInfo" d="M509.606998 143.114488c9.082866 0 17.327644 4.840238 20.996197 12.331863l97.262184 197.441814c5.613858 11.403724 16.663518 19.358907 29.438473 21.216207l223.738737 32.552393c8.420787 1.215688 15.604396 6.851035 18.23327 14.254655 2.520403 7.18361 0.595564 15.062044-5.084808 20.586874L730.253304 601.611947c-8.949836 8.751315-12.994965 21.171182-10.916631 33.370015l38.011732 222.060515c1.325182 7.737218-2.165316 15.426341-8.905834 19.978007-4.088108 2.741437-8.861832 4.155646-13.812587 4.155646-4.022617 0-7.999185-0.972141-11.425214-2.740414L528.149307 775.671215c-5.768377-3.006474-12.155854-4.552689-18.542308-4.552689-6.364965 0-12.727882 1.547239-18.518772 4.552689L296.254819 878.348736c-3.559059 1.855254-7.602142 2.828418-11.668761 2.828418-4.861728 0-9.723455-1.459235-13.546527-4.022617-6.961552-4.684696-10.475586-12.419867-9.127891-20.155039l38.011732-222.016513c2.078335-12.198833-1.988284-24.619724-10.939143-33.370015L125.02397 441.443038c-5.635347-5.492084-7.55814-13.348006-5.061272-20.453844 2.63092-7.481392 9.812483-13.116739 18.298761-14.332427l223.674269-32.552393c12.839423-1.857301 23.867594-9.813506 29.481452-21.216207l97.194646-197.396789C492.325403 147.965983 500.590648 143.114488 509.606998 143.114488M509.606998 104.904235c-24.043602 0-45.922912 13.226233-56.177464 33.95637L356.189863 336.302419l-223.674269 32.54216c-22.983457 3.304256-42.100864 18.718317-49.481971 39.659255-7.381108 21.048385-1.812275 44.23241 14.431687 60.033281l163.916257 160.125931-38.011732 222.016513c-3.868097 22.408359 6.03239 44.819788 25.458835 57.94676 10.69662 7.116071 23.204491 10.784624 35.757388 10.784624 10.298554 0 20.663622-2.475378 30.055526-7.337105l194.987926-102.7205L704.662463 912.072815c9.369392 4.861728 19.712971 7.337105 29.990035 7.337105 12.57541 0 25.082258-3.668553 35.778878-10.784624 19.426445-13.126972 29.305443-35.538401 25.460882-57.94676l-38.012755-222.016513 163.937746-160.125931c16.22145-15.812127 21.810748-38.984896 14.408151-60.033281-7.402597-20.940938-26.51898-36.353976-49.503461-39.659255L663.04767 336.302419l-97.240695-197.441814C555.619962 118.131491 533.695626 104.904235 509.606998 104.904235L509.606998 104.904235z"  p-id="17019"></path></svg>   
        <!--收藏了图标-->
        <svg id="songInfo" @click="cancelCollection" v-if="myInfo.collect" class="collect" t="1703751144883" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16864" width="200" height="200"><path class="a" id="songInfo" d="M335.008 916.629333c-35.914667 22.314667-82.88 10.773333-104.693333-25.557333a77.333333 77.333333 0 0 1-8.96-57.429333l46.485333-198.24a13.141333 13.141333 0 0 0-4.021333-12.864l-152.16-132.586667c-31.605333-27.52-35.253333-75.648-8.234667-107.733333a75.68 75.68 0 0 1 51.733333-26.752L354.848 339.2c4.352-0.362667 8.245333-3.232 10.026667-7.594667l76.938666-188.170666c16.032-39.2 60.618667-57.92 99.52-41.461334a76.309333 76.309333 0 0 1 40.832 41.461334l76.938667 188.16c1.781333 4.373333 5.674667 7.253333 10.026667 7.605333l199.712 16.277333c41.877333 3.413333 72.885333 40.458667 69.568 82.517334a76.938667 76.938667 0 0 1-26.08 51.978666l-152.16 132.586667c-3.541333 3.082667-5.141333 8.074667-4.021334 12.853333l46.485334 198.24c9.621333 41.013333-15.36 82.336-56.138667 92.224a75.285333 75.285333 0 0 1-57.525333-9.237333l-170.976-106.24a11.296 11.296 0 0 0-12.010667 0l-170.986667 106.24z"  p-id="16865"></path></svg>
    </div>
</template>
<script>
export default{
    data(){
        return{
            myInfo:[]
        }
    },
    methods:{
        /**
         * 点击了收藏
         */
        collected(){
            this.$emit('collected',this.info)
            this.myInfo.collect = true
        },
        /**
         * 取消收藏
         */
        cancelCollection(){
            this.$emit('cancelCollection',this.info)
            this.myInfo.collect = false
        },
        /**
         * 当被单击后,判断被点击的位置是不是收藏,如果是收藏则不进行上报
         * @param {*} e 
         */
        clickList(e){
            if(e.path[0].classList[0] == 'collect' || e.path[0].classList[0] == 'a'){
                return
            }
            this.$emit('clikcList',this.info)
        }
    },
    mounted(){

    },
    props:{
        info:{
            type:Object,
            default:()=>{return{name:"未知"}}
        },
        checked:{
            type:Boolean,
            default:false
        }
    },
    watch:{
        info(newValue){
            this.myInfo = newValue
        },
        checked(newValue){
            if(newValue){
                this.$refs.chunkBox.style.backgroundColor = "#545454"
            }
        }
    }
}
</script>
<style scoped>
.chunkBox{
    width: 100%;
    height: 50px;
    background-color: var(--oppositeAdjacent-theme-colour);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: space-around;
    color: #545454;
    font-weight: bold;
}


.fileSvg{
    width: 25px;
    height: 25px;
    fill: var(--opposite-theme-colour);
}

.collect{
    width: 28px;
    height: 28px;
    fill: var(--opposite-theme-colour);
}

.nameText{
    width: 90px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

/**文字 */
.nameText p{
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    user-select: none;
}



</style>